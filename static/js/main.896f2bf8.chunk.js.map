{"version":3,"sources":["utils/audioUtils.js","pages/Recorder.js","utils/aws-signature-v4.js","components/Rating/Rating.js","services/auth.service.js","components/Footer/Footer.js","components/Navigation/Navigation.js","components/Sidebar/Sidebar.js","services/metrics.service.js","images/phonica.png","components/Forms/LoginForm/LoginForm.js","components/Charts/LineChart/LineChart.js","components/Charts/FillerWordTable/FillerWordTable.js","components/Charts/BarChart/BarChart.js","components/CardStats/CardStats.js","components/Header/Header.js","icons/font-awesome.js","pages/Dashboard.js","components/Modal/Modal.js","pages/Sessions.js","components/FaqItem/FaqItem.js","pages/Faq.js","components/Usage/RecorderUsage.js","components/Usage/DashboardUsage.js","components/Usage/SessionsUsage.js","pages/Usage.js","pages/Empty.js","components/Forms/RegisterForm/RegisterForm.js","App.js","reportWebVitals.js","index.js"],"names":["pcmEncode","input","offset","buffer","ArrayBuffer","length","view","DataView","i","s","Math","max","min","setInt16","downsampleBuffer","inputSampleRate","outputSampleRate","sampleRateRatio","newLength","round","result","Float32Array","offsetResult","offsetBuffer","nextOffsetBuffer","accum","count","socket","micStream","sampleRate","transcription","socketError","transcribeException","eventStreamMarshaller","EventStreamMarshaller","toUtf8","fromUtf8","Recorder","props","getAudioEventMessage","headers","type","value","body","convertAudioToBinaryMessage","audioChunk","raw","mic","toRaw","downsampledBuffer","pcmEncodedBuffer","audioEventMessage","this","Buffer","from","marshall","start","bind","streamAudioToWebSocket","toggleStartStop","closeSocket","stop","state","isRecording","blobURL","isBlocked","finalResult","time","isOn","finished","userMediaStream","me","on","data","setStream","url","createPresignedURL","crypto","createHash","update","digest","WebSocket","binaryType","onopen","rawAudioChunk","binary","readyState","OPEN","send","e","console","log","onmessage","message","messageWrapper","unmarshall","messageBody","JSON","parse","String","fromCharCode","results","Transcript","Results","Alternatives","transcript","decodeURIComponent","escape","setState","IsPartial","onerror","onclose","closeEvent","code","Date","now","timer","setInterval","window","navigator","mediaDevices","getUserMedia","video","audio","then","catch","error","emptyMessage","emptyBuffer","clearInterval","className","onClick","duration","color","React","Component","withRouter","require","querystring","toTime","toISOString","replace","toDate","substring","hmac","key","string","encoding","createHmac","exports","createCanonicalRequest","method","pathname","query","payload","toUpperCase","createCanonicalQueryString","createCanonicalHeaders","createSignedHeaders","join","params","Object","keys","sort","map","encodeURIComponent","name","toLowerCase","trim","toString","createCredentialScope","region","service","createStringToSign","request","createSignature","secret","stringToSign","h1","h2","h3","h4","createPresignedS3URL","options","bucket","process","AWS_S3_BUCKET","host","path","AWS_ACCESS_KEY_ID","AWS_SECRET_ACCESS_KEY","protocol","timestamp","AWS_REGION","expires","Host","sessionToken","canonicalRequest","signature","stringify","AuthService","getCurrentUser","useState","rating","setRating","hover","setHover","description","setDescription","form","useRef","StyledRating","withStyles","iconFilled","iconHover","Rating","labels","1","2","3","4","icons","icon","size","when","onSubmit","preventDefault","MetricsService","postSession","history","push","location","reload","err","alert","ref","component","mb","borderColor","defaultValue","IconContainerComponent","other","onChange","event","newRating","onChangeActive","newHover","cols","target","placeholder","login","username","password","a","axios","post","response","token","localStorage","setItem","register","email","logout","removeItem","Footer","style","getFullYear","href","rel","Navigation","currentUser","to","alt","src","Sidebar","collapseShow","setCollapseShow","fixedWidth","indexOf","authAxios","create","getSessions","get","id","required","role","checkBtn","setUsername","setPassword","setLoading","setMessage","phonica","current","validateAll","context","_errors","resMessage","htmlFor","validations","display","LineChart","setData","fetchData","useEffect","_","range","calls","datasets","label","fill","lineTension","backgroundColor","borderWidth","filler_words","j","audio_analysis","getFillerWords","title","text","fontSize","legend","position","FillerWordTable","found","findIndex","call","word","used","frequency","b","slice","findFrequentFillerWords","filler","index","BarChart","ratingsCount","gatherRatings","scales","yAxes","ticks","beginAtZero","CardStats","statSubtitle","statTitle","statIconName","statIconColor","Header","total","num_entries","calculateAvgFillerWords","toFixed","library","add","faBars","faTv","faHeadphones","faUser","faTimes","faPaperclip","faTools","faPhone","faEye","faComment","faLightbulb","faQuestion","faSadTear","faMeh","faSmile","faLaughBeam","faAngleDown","faAngleUp","faMicrophone","faExternalLinkAlt","Dashboard","Modal","content","setShowModal","Sessions","generateDropdownOptions","dropdownValue","showModal","dropdownItems","renderTableData","undefined","renderRating","split","highlightClassName","searchWords","autoEscape","textToHighlight","renderPartialTranscript","Trigger","open","FaqItem","setOpen","trigger","question","onOpening","onClosing","answer","faqs","Faq","faq","RecorderUsage","DashboardUsage","SessionsUsage","pageClasses","contentClasses","Usage","validEmail","isEmail","validUsername","validPassword","setName","setEmail","successful","setSuccessful","theme","extendTheme","colors","primary","900","800","App","getItem","RegisterForm","Empty","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.896f2bf8.chunk.js","sourcesContent":["export function pcmEncode(input) {\n    var offset = 0;\n    var buffer = new ArrayBuffer(input.length * 2);\n    var view = new DataView(buffer);\n    for (var i = 0; i < input.length; i++, offset += 2) {\n        var s = Math.max(-1, Math.min(1, input[i]));\n        view.setInt16(offset, s < 0 ? s * 0x8000 : s * 0x7FFF, true);\n    }\n    return buffer;\n}\n\nexport function downsampleBuffer(buffer, inputSampleRate = 44100, outputSampleRate = 16000) {\n        \n    if (outputSampleRate === inputSampleRate) {\n        return buffer;\n    }\n\n    var sampleRateRatio = inputSampleRate / outputSampleRate;\n    var newLength = Math.round(buffer.length / sampleRateRatio);\n    var result = new Float32Array(newLength);\n    var offsetResult = 0;\n    var offsetBuffer = 0;\n    \n    while (offsetResult < result.length) {\n\n        var nextOffsetBuffer = Math.round((offsetResult + 1) * sampleRateRatio);\n\n        var accum = 0,\n        count = 0;\n        \n        for (var i = offsetBuffer; i < nextOffsetBuffer && i < buffer.length; i++ ) {\n            accum += buffer[i];\n            count++;\n        }\n\n        result[offsetResult] = accum / count;\n        offsetResult++;\n        offsetBuffer = nextOffsetBuffer;\n\n    }\n\n    return result;\n\n}","import React from 'react';\nimport crypto from 'crypto';\nimport { EventStreamMarshaller } from \"@aws-sdk/eventstream-marshaller\"; // for converting binary event stream messages to and from JSON\nimport { fromUtf8, toUtf8 } from \"@aws-sdk/util-utf8-node\";\nimport { pcmEncode, downsampleBuffer } from '../utils/audioUtils';\nimport { createPresignedURL } from '../utils/aws-signature-v4';\nimport mic from 'microphone-stream';\nimport Navigation from \"../components/Navigation/Navigation\"\nimport Sidebar from \"../components/Sidebar/Sidebar\"\nimport Footer from \"../components/Footer/Footer\"\nimport { Redirect, withRouter } from 'react-router-dom'\nimport { faTheaterMasks } from '@fortawesome/free-solid-svg-icons';\nimport Results from \"../components/Rating/Rating\"\n\n\nconst languageCode = 'en-US';\nconst sampleRate = 44100;\nlet inputSampleRate;\nlet transcription = \"\";\nlet socket;\nlet micStream;\nlet socketError = false;\nlet transcribeException = false;\n\nconst eventStreamMarshaller = new EventStreamMarshaller(toUtf8, fromUtf8);\n\nclass Recorder extends React.Component {\n  constructor(props) {\n    super(props);\n    this.start = this.start.bind(this);\n    this.streamAudioToWebSocket = this.streamAudioToWebSocket.bind(this);\n    this.toggleStartStop = this.toggleStartStop.bind(this);\n    this.closeSocket = this.closeSocket.bind(this);\n    this.stop = this.stop.bind(this);\n    this.state = {\n      transcription: \"\",\n      isRecording: false,\n      blobURL: '',\n      isBlocked: false,\n      finalResult: '',\n      time: 0,\n      isOn: false,\n      start: 0,\n      finished: false\n    };\n  }\n  componentDidMount() {\n    //this.start();\n  }\n\n  toggleStartStop(disableStart = false) {\n\n  }\n\n  streamAudioToWebSocket(userMediaStream) {\n\n    let me = this;\n\n    // let's get the mic input from the browser, via the microphone-stream module\n    micStream = new mic();\n\n    micStream.on(\"format\", function (data) {\n      inputSampleRate = data.sampleRate;\n    });\n\n    micStream.setStream(userMediaStream);\n    // Pre-signed URLs are a way to authenticate a request (or WebSocket connection, in this case)\n    // via Query Parameters. Learn more: https://docs.aws.amazon.com/AmazonS3/latest/API/sigv4-query-string-auth.html\n    //const url = this.createPresignedTest();\n    const endpoint = \"transcribestreaming.us-east-1.amazonaws.com:8443\";\n\n    // get a preauthenticated URL that we can use to establish our WebSocket\n    let url = createPresignedURL(\n      'GET',\n      endpoint,\n      '/stream-transcription-websocket',\n      'transcribe',\n      crypto.createHash('sha256').update('', 'utf8').digest('hex'),\n      {\n        'key': 'AKIA3VZEVNOTDXKUZFU7',\n        'secret': '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',\n        'sessionToken': '',\n        'protocol': 'wss',\n        'expires': 15,\n        'region': 'us-east-1',\n        'query': \"language-code=\" + languageCode + \"&media-encoding=pcm&sample-rate=\" + sampleRate\n      }\n    );\n\n    // open up our WebSocket connection\n    socket = new WebSocket(url);\n    socket.binaryType = \"arraybuffer\";\n\n    // when we get audio data from the mic, send it to the WebSocket if possible\n    socket.onopen = function () {\n      micStream.on('data', function (rawAudioChunk) {\n        // the audio stream is raw audio bytes. Transcribe expects PCM with additional metadata, encoded as binary\n        //const binary = this.convertAudioToBinaryMessage(rawAudioChunk);\n\n        const raw = mic.toRaw(rawAudioChunk);\n\n        if (raw == null)\n          return;\n\n        // downsample and convert the raw audio bytes to PCM\n        const downsampledBuffer = downsampleBuffer(raw, inputSampleRate, sampleRate);\n        const pcmEncodedBuffer = pcmEncode(downsampledBuffer);\n\n        // add the right JSON headers and structure to the message\n        //const audioEventMessage = this.getAudioEventMessage(Buffer.from(pcmEncodedBuffer));\n        const audioEventMessage = {\n          headers: {\n            ':message-type': {\n              type: 'string',\n              value: 'event'\n            },\n            ':event-type': {\n              type: 'string',\n              value: 'AudioEvent'\n            }\n          },\n          body: Buffer.from(pcmEncodedBuffer)\n        };\n        // convert the JSON object + headers into a binary event stream message\n        const binary = eventStreamMarshaller.marshall(audioEventMessage);\n\n        if (socket && socket.readyState === socket.OPEN) {\n          try {\n            socket.send(binary);\n            //console.log('sent');\n          }\n          catch (e) {\n            console.log(e);\n          }\n        }\n      }\n      )\n    };\n    // handle messages, errors, and close events\n    socket.onmessage = function (message) {\n      // convert the binary event stream message to JSON\n      const messageWrapper = eventStreamMarshaller.unmarshall(Buffer.from(message.data));\n      const messageBody = JSON.parse(String.fromCharCode(...messageWrapper.body));\n      if (messageWrapper.headers[\":message-type\"].value === \"event\") {\n        const results = messageBody.Transcript.Results;\n\n        if (results.length > 0) {\n          if (results[0].Alternatives.length > 0) {\n            let transcript = results[0].Alternatives[0].Transcript;\n\n            // fix encoding for accented characters\n            transcript = decodeURIComponent(escape(transcript));\n\n            // update the textarea with the latest result\n            // $('#transcript').val(transcription + transcript + \"\\n\");\n            //this.props.transcription = this.props.transcription + transcript + \"\\n\";\n            //console.log(transcription + transcript + \"\\n\");\n            me.setState({ finalResult: transcription + transcript + \"\\n\" })\n\n            // if this transcript segment is final, add it to the overall transcription\n            if (!results[0].IsPartial) {\n              // scroll the textarea down\n              // $('#transcript').scrollTop($('#transcript')[0].scrollHeight);\n              transcription += transcript + \" \";\n            }\n          }\n        }\n      }\n      else {\n        transcribeException = true;\n        // showError(messageBody.Message);\n        me.toggleStartStop();\n      }\n    };\n\n    socket.onerror = function () {\n      socketError = true;\n      // showError('WebSocket connection error. Try again.');\n      me.toggleStartStop();\n    };\n\n    socket.onclose = function (closeEvent) {\n      micStream.stop();\n\n      // the close event immediately follows the error event; only handle one.\n      if (!socketError && !transcribeException) {\n        if (closeEvent.code !== 1000) {\n          // showError('</i><strong>Streaming Exception</strong><br>' + closeEvent.reason);\n        }\n        me.toggleStartStop();\n      }\n    };\n  }\n\n  getAudioEventMessage = function (buffer) {\n    //console.log('working-audio');\n    // wrap the audio data in a JSON envelope\n    return {\n      headers: {\n        ':message-type': {\n          type: 'string',\n          value: 'event'\n        },\n        ':event-type': {\n          type: 'string',\n          value: 'AudioEvent'\n        }\n      },\n      body: buffer\n    };\n  }\n\n  convertAudioToBinaryMessage = function (audioChunk) {\n    //console.log('working-conbin');\n    const raw = mic.toRaw(audioChunk);\n\n    if (raw == null)\n      return;\n\n    // downsample and convert the raw audio bytes to PCM\n    const downsampledBuffer = downsampleBuffer(raw, inputSampleRate, sampleRate);\n    const pcmEncodedBuffer = pcmEncode(downsampledBuffer);\n\n    // add the right JSON headers and structure to the message\n    const audioEventMessage = this.getAudioEventMessage(Buffer.from(pcmEncodedBuffer));\n\n    // convert the JSON object + headers into a binary event stream message\n    return eventStreamMarshaller.marshall(audioEventMessage);\n  }\n\n  start() {\n    this.setState({\n      isOn: true,\n      time: this.state.time,\n      start: Date.now() - this.state.time\n    })\n    this.timer = setInterval(() => this.setState({\n      time: Date.now() - this.state.start\n    }), 1);\n\n    //this.setState({finalResult: \"\"})\n    //console.log('working-start');\n    this.toggleStartStop(true);\n    window.navigator.mediaDevices.getUserMedia({\n      video: false,\n      audio: true\n    })\n      // ...then we convert the mic stream to binary event stream messages when the promise resolves \n      .then(this.streamAudioToWebSocket)\n      .catch(function (error) {\n        //this.toggleStartStop();\n      });\n  }\n\n  closeSocket() {\n    //console.log('working-close');\n    if (socket && socket.readyState === socket.OPEN) {\n      micStream.stop();\n\n      // Send an empty frame so that Transcribe initiates a closure of the WebSocket after submitting all transcripts\n      const emptyMessage = this.getAudioEventMessage(Buffer.from([]));\n      const emptyBuffer = eventStreamMarshaller.marshall(emptyMessage);\n      socket.send(emptyBuffer);\n    }\n  }\n  stop() {\n    //console.log('working-stop');\n    this.closeSocket();\n    this.toggleStartStop();\n    this.setState({ isOn: false, finished: true })\n    clearInterval(this.timer)\n  };\n\n  render() {\n    return (\n      <>\n        <Sidebar />\n        <Navigation />\n        <div className=\"md:pt-16 flex flex-col min-h-screen relative md:ml-64 bg-blueGray-100\">\n          <div className=\"flex-grow mx-auto w-full m-5 xl:mb-0 px-4 divide-solid\">\n            <div className=\"text-center mt-16\">\n              <button className=\"bg-red-500 hover:bg-red-700 text-white font-bold py-2 px-4 rounded mr-4\" onClick={this.start}>Record</button>\n              <button className=\"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded\" onClick={this.stop}>Stop</button>\n            </div>\n            <p className=\"text-center mt-4\">Timer: {this.state.time / 1000} seconds</p>\n            {this.state.finished && <Results transcript={this.state.finalResult} duration={this.state.time / 1000} />}\n\n          </div>\n          <Footer color=\"#000000\" />\n        </div>\n      </>\n    );\n  }\n}\n\nexport default withRouter(Recorder);","// Copied from https://github.com/department-stockholm/aws-signature-v4\n// and fixed the sorting of query parameters by using 'query-string' package instead of 'querystring'\n'use strict';\n\nvar crypto = require('crypto');\nvar querystring = require('query-string');\n\nexports.createCanonicalRequest = function(method, pathname, query, headers, payload) {\n  return [\n    method.toUpperCase(),\n    pathname,\n    exports.createCanonicalQueryString(query),\n    exports.createCanonicalHeaders(headers),\n    exports.createSignedHeaders(headers),\n    payload\n  ].join('\\n');\n};\n\nexports.createCanonicalQueryString = function(params) {\n  return Object.keys(params).sort().map(function(key) {\n    return encodeURIComponent(key) + '=' + encodeURIComponent(params[key]);\n  }).join('&');\n};\n\nexports.createCanonicalHeaders = function(headers) {\n  return Object.keys(headers).sort().map(function(name) {\n    return name.toLowerCase().trim() + ':' + headers[name].toString().trim() + '\\n';\n  }).join('');\n};\n\nexports.createSignedHeaders = function(headers) {\n  return Object.keys(headers).sort().map(function(name) {\n    return name.toLowerCase().trim();\n  }).join(';');\n};\n\nexports.createCredentialScope = function(time, region, service) {\n  return [toDate(time), region, service, 'aws4_request'].join('/');\n};\n\nexports.createStringToSign = function(time, region, service, request) {\n  return [\n    'AWS4-HMAC-SHA256',\n    toTime(time),\n    exports.createCredentialScope(time, region, service),\n    hash(request, 'hex')\n  ].join('\\n');\n};\n\nexports.createSignature = function(secret, time, region, service, stringToSign) {\n  var h1 = hmac('AWS4' + secret, toDate(time)); // date-key\n  var h2 = hmac(h1, region); // region-key\n  var h3 = hmac(h2, service); // service-key\n  var h4 = hmac(h3, 'aws4_request'); // signing-key\n  return hmac(h4, stringToSign, 'hex');\n};\n\nexports.createPresignedS3URL = function(name, options) {\n  options = options || {};\n  options.method = options.method || 'GET';\n  options.bucket = options.bucket || process.env.AWS_S3_BUCKET;\n  return exports.createPresignedURL(\n    options.method,\n    options.bucket + '.s3.amazonaws.com',\n    '/' + name,\n    's3',\n    'UNSIGNED-PAYLOAD',\n    options\n  );\n};\n\nexports.createPresignedURL = function(method, host, path, service, payload, options) {\n  options = options || {};\n  options.key = options.key || process.env.AWS_ACCESS_KEY_ID;\n  options.secret = options.secret || process.env.AWS_SECRET_ACCESS_KEY;\n  options.protocol = options.protocol || 'https';\n  options.headers = options.headers || {};\n  options.timestamp = options.timestamp || Date.now();\n  options.region = options.region || process.env.AWS_REGION || 'us-east-1';\n  options.expires = options.expires || 86400; // 24 hours\n  options.headers = options.headers || {};\n\n  // host is required\n  options.headers.Host = host;\n\n  var query = options.query ? querystring.parse(options.query) : {};\n  query['X-Amz-Algorithm'] = 'AWS4-HMAC-SHA256';\n  query['X-Amz-Credential'] = options.key + '/' + exports.createCredentialScope(options.timestamp, options.region, service);\n  query['X-Amz-Date'] = toTime(options.timestamp);\n  query['X-Amz-Expires'] = options.expires;\n  query['X-Amz-SignedHeaders'] = exports.createSignedHeaders(options.headers);\n  if (options.sessionToken) {\n    query['X-Amz-Security-Token'] = options.sessionToken;\n  }\n\n  var canonicalRequest = exports.createCanonicalRequest(method, path, query, options.headers, payload);\n  var stringToSign = exports.createStringToSign(options.timestamp, options.region, service, canonicalRequest);\n  var signature = exports.createSignature(options.secret, options.timestamp, options.region, service, stringToSign);\n  query['X-Amz-Signature'] = signature;\n  return options.protocol + '://' + host + path + '?' + querystring.stringify(query);\n};\n\nfunction toTime(time) {\n  return new Date(time).toISOString().replace(/[:\\-]|\\.\\d{3}/g, '');\n}\n\nfunction toDate(time) {\n  return toTime(time).substring(0, 8);\n}\n\nfunction hmac(key, string, encoding) {\n  return crypto.createHmac('sha256', key)\n    .update(string, 'utf8')\n    .digest(encoding);\n}\n\nfunction hash(string, encoding) {\n  return crypto.createHash('sha256')\n    .update(string, 'utf8')\n    .digest(encoding);\n}\n","import React, { useRef } from \"react\";\nimport PropTypes from 'prop-types';\nimport AuthService from \"../../services/auth.service\";\nimport axios from 'axios';\nimport Rating from '@material-ui/lab/Rating';\nimport Box from '@material-ui/core/Box';\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { withStyles } from '@material-ui/core/styles';\nimport Form from \"react-validation/build/form\";\nimport { withRouter } from 'react-router-dom';\nimport { Prompt } from 'react-router'\nimport MetricsService from '../../services/metrics.service'\n\nfunction Results(props) {\n    const currentUser = AuthService.getCurrentUser();\n    const [rating, setRating] = React.useState(-1);\n    const [hover, setHover] = React.useState(-1);\n    const [description, setDescription] = React.useState('');\n    const form = useRef();\n\n\n    const StyledRating = withStyles({\n        iconFilled: {\n            color: '#ff6d75',\n        },\n        iconHover: {\n            color: '#ff3d47',\n        },\n    })(Rating);\n\n\n    const labels = {\n        1: \"Poor\",\n        2: \"Okay\",\n        3: \"Good\",\n        4: \"Excellent\"\n    };\n\n    const icons = {\n        1: {\n            icon: <FontAwesomeIcon icon=\"sad-tear\" size=\"4x\" className=\"mr-4\" />,\n        },\n        2: {\n            icon: <FontAwesomeIcon icon=\"meh\" size=\"4x\" className=\"mr-4\" />,\n        },\n        3: {\n            icon: <FontAwesomeIcon icon=\"smile\" size=\"4x\" className=\"mr-4\" />,\n        },\n        4: {\n            icon: <FontAwesomeIcon icon=\"laugh-beam\" size=\"4x\" className=\"mr-4\" />,\n        },\n    };\n\n    function IconContainer(props) {\n        const { value, ...other } = props;\n        return <span {...other}>{icons[value].icon}</span>;\n    }\n\n    IconContainer.propTypes = {\n        value: PropTypes.number.isRequired,\n    };\n\n    const handleSubmit = (e) => {\n        e.preventDefault();\n        if (rating === null || description === '') {\n            alert('Please rate the recording and provide a description');\n            return;\n        }\n        try {\n            MetricsService.postSession(props.transcript, description, labels[rating], props.duration);\n            props.history.push(\"/sessions\");\n            window.location.reload();\n\n        } catch (err) {\n            console.log(err.message);\n        }\n    }\n\n    return (\n        <>\n            <Prompt\n                message='You have not rated the recording or left a description. Leaving now will mean your recording is not saved. Are you sure you want to leave?'\n                when={rating === null || description === ''}\n            />\n            <div className=\"relative bg-white pb-16 pt-12 h-7/8\">\n                < div className=\"px-4 md:px-10 mx-auto text-center \" >\n                    <Form onSubmit={handleSubmit} ref={form}>\n                        <Box component=\"fieldset\" className=\"mx-auto mt-4\" mb={3} borderColor=\"transparent\">\n                            <h1 className=\"text-2xl mb-4\">How would you rate this recording?</h1>\n                            <StyledRating\n                                name=\"customized-icons\"\n                                size=\"large\"\n                                max={4}\n                                defaultValue={null}\n                                value={rating}\n                                IconContainerComponent={IconContainer}\n                                onChange={(event, newRating) => {\n                                    setRating(newRating);\n                                }}\n                                onChangeActive={(event, newHover) => {\n                                    setHover(newHover);\n                                }}\n                            />\n                            {rating !== null && <Box className=\"mt-4\">Rating: {labels[hover !== -1 ? hover : rating]}</Box>}\n                        </Box>\n                        <Box component=\"fieldset\" className=\"mx-auto mt-24\" mb={3} borderColor=\"transparent\">\n                            <h1 className=\"text-2xl\">Please provide a description of this recording.</h1>\n                            <textarea\n                                value={description}\n                                className=\"outline-gray mt-4\"\n                                cols={50}\n                                onChange={(e) => setDescription(e.target.value)}\n                                placeholder=\"Ex. This recording is practice for my science presentation.\">\n                            </textarea>\n                        </Box>\n                        <input type=\"submit\" value=\"Submit\" className=\"bg-purple-500 hover:bg-purple-700 text-white font-bold py-2 px-4 rounded cursor-pointer\" />\n                    </Form>\n                </div >\n            </div >\n        </>\n    );\n}\n\nexport default withRouter(Results);\n","import axios from \"axios\";\n\nconst register = (name, username, email, password) => {\n    return axios.post(\"https://phonica-api.herokuapp.com/register\", {\n        name,\n        username,\n        email,\n        password,\n    });\n};\n\nconst login = async (username, password) => {\n    const response = await axios\n        .post(\"https://phonica-api.herokuapp.com/login\", {\n            username,\n            password,\n        });\n    if (response.data.token) {\n        localStorage.setItem(\"user\", JSON.stringify(response.data));\n    }\n    return response.data;\n};\n\nconst logout = () => {\n    localStorage.removeItem(\"user\");\n};\n\nconst currentUser = `{\"id\":9,\"name\":\"George Fane\",\"token\":\"eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJmcmVzaCI6ZmFsc2UsImlhdCI6MTYzODg1MzczMywianRpIjoiNzNhN2U3M2EtYWFhNy00ZjYxLTkwMDQtYmYzZjI3YTgzNjk4IiwidHlwZSI6ImFjY2VzcyIsInN1YiI6IjkiLCJuYmYiOjE2Mzg4NTM3MzMsImV4cCI6MTYzOTQ1ODUzM30.UqAGNO8tBG7CBvxEHRSSl2fw71f72XRY6b0GqHq8aGA\"}`\n\nconst getCurrentUser = () => {\n    return currentUser;\n    return JSON.parse(localStorage.getItem(\"user\"));\n};\n\nexport default {\n    register,\n    login,\n    logout,\n    getCurrentUser,\n};\n","import React from \"react\";\n\nconst Footer = ({ color }) => {\n  return (\n    <>\n      <footer className=\"block py-4 pin-b\">\n        <div className=\"container mx-auto px-4\">\n          <hr className=\"mb-4 border-b-1 border-blueGray-200\" />\n          <div className=\"flex flex-wrap items-center md:justify-between justify-center\">\n            <div className=\"w-full md:w-4/12 px-4\">\n              <div className=\"text-sm text-blueGray-500 font-semibold py-1 text-center md:text-left\">\n                <span\n                  style={{ \"color\": color }}\n                >\n                  Copyright  {new Date().getFullYear()}{\" \"}</span>\n                <a\n                  href=\"https://www.phonica.org/\"\n                  className=\"text-blueGray-500 hover:text-blueGray-700 text-sm font-semibold py-1\"\n                  target=\"_blank\"\n                  rel=\"noreferrer\"\n                  style={{ \"color\": color }}\n                >\n                  Phonica\n                </a>\n              </div>\n            </div>\n            <div className=\"w-full md:w-8/12 px-4\">\n              <ul className=\"flex flex-wrap list-none md:justify-end  justify-center\">\n                <li>\n                  <a\n                    href=\"https://www.phonica.org/\"\n                    className=\"text-blueGray-600 hover:text-blueGray-800 text-sm font-semibold block py-1 px-3\"\n                    target=\"_blank\"\n                    rel=\"noreferrer\"\n                    style={{ \"color\": color }}\n                  >\n                    Phonica\n                  </a>\n                </li>\n                <li>\n                  <a\n                    href=\"https://www.phonica.org/about/\"\n                    className=\"text-blueGray-600 hover:text-blueGray-800 text-sm font-semibold block py-1 px-3\"\n                    target=\"_blank\"\n                    rel=\"noreferrer\"\n                    style={{ \"color\": color }}\n                  >\n                    About Us\n                  </a>\n                </li>\n              </ul>\n            </div>\n          </div>\n        </div>\n      </footer>\n    </>\n  );\n}\n\nexport default Footer;","import React from \"react\";\nimport { Link } from \"react-router-dom\";\n\nimport AuthService from \"../../services/auth.service\";\n\nexport default function Navigation() {\n  const currentUser = AuthService.getCurrentUser();\n  return (\n    <>\n      <div className=\"relative md:ml-64 bg-blueGray-100\">\n        <nav className=\"absolute top-0 left-0 w-full z-10 bg-transparent md:flex-row md:flex-nowrap md:justify-start flex items-center p-4\">\n          <div className=\"w-full mx-autp items-center flex justify-between md:flex-nowrap flex-wrap md:px-10 px-4\">\n            <a\n              className=\"text-black text-sm uppercase hidden lg:inline-block font-semibold\"\n              href=\"#pablo\"\n              onClick={(e) => e.preventDefault()}\n            >\n              {currentUser && currentUser.name}'s {window.location.pathname.substring(1)}\n            </a>\n            <ul className=\"flex-col md:flex-row list-none items-center hidden md:flex\">\n              <div className=\"items-center flex\">\n                <span className=\"w-12 h-12 text-sm text-white bg-blueGray-200 inline-flex items-center justify-center rounded-full\">\n                    {/* used to be 'a' tag below, but that messes up hash routing */}\n                  <Link className=\"text-blueGray-500 block\" to=\"/dashboard\">\n                    <img\n                      alt=\"...\"\n                      className=\"w-full rounded-full align-middle border-none shadow-lg\"\n                      src=\"https://icon-library.com/images/generic-profile-icon/generic-profile-icon-23.jpg\"\n                    />\n                  </Link>\n                </span>\n              </div>\n            </ul>\n          </div>\n        </nav>\n      </div>\n    </>\n  );\n}\n","/*eslint-disable*/\nimport React from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport AuthService from \"../../services/auth.service\";\n\n\nexport default function Sidebar() {\n  const [collapseShow, setCollapseShow] = React.useState(\"hidden\");\n\n  const logOut = () => {\n    AuthService.logout();\n    console.log(\"logged out\")\n  };\n\n  return (\n    <>\n      <nav className=\"md:left-0 md:block md:fixed md:top-0 md:bottom-0 md:overflow-y-auto md:flex-row md:flex-nowrap md:overflow-hidden shadow-xl bg-purple-600 flex flex-wrap items-center justify-between relative md:w-64 z-10 py-4 px-6\">\n        <div className=\"md:flex-col md:items-stretch md:min-h-full md:flex-nowrap px-0 flex flex-wrap items-center justify-between w-full mx-auto\">\n          {/* Toggler */}\n          <button\n            className=\"cursor-pointer text-white md:hidden px-3 py-1 text-xl leading-none bg-transparent rounded border border-solid border-transparent\"\n            type=\"button\"\n            onClick={() => setCollapseShow(\"bg-purple-600 m-2 py-3 px-6\")}\n          >\n            <FontAwesomeIcon icon=\"bars\" />{\" \"}\n          </button>\n          {/* Brand */}\n          <Link\n            className=\"md:block text-left md:pb-2 text-white mr-0 inline-block whitespace-nowrap text-sm uppercase font-bold p-4 px-0 hover:text-yellow-300\"\n            to=\"/dashboard\"\n          >\n            Phonica\n          </Link>\n          {/* User */}\n          <ul className=\"md:hidden items-center flex flex-wrap list-none\">\n            <li className=\"inline-block relative\"></li>\n            <li className=\"inline-block relative\"></li>\n          </ul>\n          {/* Collapse */}\n          <div\n            className={\n              \"md:flex md:flex-col md:items-stretch md:relative md:mt-4 md:shadow-none shadow absolute top-0 left-0 right-0 z-40 overflow-y-auto overflow-x-hidden h-auto items-center flex-1 rounded \" +\n              collapseShow\n            }\n          >\n            {/* Collapse header */}\n            <div className=\"md:min-w-full md:hidden block pb-4 mb-4 border-b border-solid border-blueGray-200\">\n              <div className=\"flex flex-wrap\">\n                <div className=\"w-6/12\">\n                  <Link\n                    className=\"md:block text-left md:pb-2 text-white mr-0 inline-block whitespace-nowrap text-sm uppercase font-bold p-4 px-0 hover:text-yellow-300\"\n                    to=\"/\"\n                  >\n                    Phonica\n                  </Link>\n                </div>\n                <div className=\"w-6/12 flex justify-end\">\n                  <button\n                    type=\"button\"\n                    className=\"cursor-pointer text-white md:hidden px-3 py-1 text-xl leading-none bg-transparent rounded border border-solid border-transparent\"\n                    onClick={() => setCollapseShow(\"hidden\")}\n                  >\n                    <FontAwesomeIcon fixedWidth\n                      className=\"mr-2 text-sm\"\n                      icon=\"times\"\n                      color=\"#FFFFFF\"\n                      size=\"4x\"\n                    />\n                  </button>\n                </div>\n              </div>\n            </div>\n\n            {/* Divider */}\n            {/* Heading */}\n            <h6 className=\"md:min-w-full text-white text-xs uppercase font-bold block pt-1 pb-4 no-underline\">\n              Analytics\n            </h6>\n            {/* Navigation */}\n\n            <ul className=\"md:flex-col md:min-w-full flex flex-col list-none\">\n              <li className=\"items-center\">\n                <Link\n                  className={\n                    \"text-xs uppercase py-3 font-bold block hover:text-yellow-300 \" +\n                    (window.location.href.indexOf(\"/dashboard\") !== -1\n                      ? \"text-yellow-300\"\n                      : \"text-white\")\n                  }\n                  to=\"/dashboard\"\n                >\n                  <FontAwesomeIcon fixedWidth\n                    className=\"mr-2 text-sm\"\n                    icon=\"tv\"\n                    color=\"#FFFFFF\"\n                  />{\" \"}\n                  Dashboard\n                </Link>\n              </li>\n\n              <li className=\"items-center\">\n                <Link\n                  className={\n                    \"text-xs uppercase py-3 font-bold block hover:text-yellow-300 \" +\n                    (window.location.href.indexOf(\"/sessions\") !== -1\n                      ? \"text-yellow-200\"\n                      : \"text-white\")\n                  }\n                  to=\"/sessions\"\n                >\n                  <FontAwesomeIcon fixedWidth\n                    className=\"mr-2 text-sm\"\n                    icon=\"headphones\"\n                    color=\"#FFFFFF\"\n                  />{\" \"}\n                  Sessions\n                </Link>\n              </li>\n\n              <li className=\"items-center\">\n                <Link fixedWidth\n                  className={\n                    \"text-xs uppercase py-3 font-bold block hover:text-yellow-300 \" +\n                    (window.location.href.indexOf(\"/record\") !== -1\n                      ? \"text-yellow-200\"\n                      : \"text-white\")\n                  }\n                  to=\"/record\"\n                >\n                  <FontAwesomeIcon fixedWidth\n                    className=\"mr-2 text-sm\"\n                    icon=\"microphone\"\n                    color=\"#FFFFFF\"\n                  />{\" \"}\n                  Recorder\n                </Link>\n              </li>\n            </ul>\n\n            {/* Divider */}\n            <hr className=\"my-4 md:min-w-full\" />\n            {/* Heading */}\n            <h6 className=\"md:min-w-full text-white text-xs uppercase font-bold block pt-1 pb-4 no-underline\">\n              Settings\n            </h6>\n            {/* Navigation */}\n\n            <ul className=\"md:flex-col md:min-w-full flex flex-col list-none md:mb-4\">\n              <li className=\"items-center\">\n                <Link\n                  className={\n                    \"text-xs uppercase py-3 font-bold block hover:text-yellow-300 \" +\n                    (window.location.href.indexOf(\"/profile\") !== -1\n                      ? \"text-yellow-200\"\n                      : \"text-white\")\n                  }\n                  to=\"/profile\"\n                >\n                  <FontAwesomeIcon fixedWidth\n                    className=\"mr-2 text-sm\"\n                    icon=\"user\"\n                    color=\"#FFFFFF\"\n                  />{\" \"}\n                  Profile\n                </Link>\n              </li>\n\n              <li className=\"items-center\">\n                <Link\n                  className={\n                    \"text-xs uppercase py-3 font-bold block hover:text-yellow-300 \" +\n                    (window.location.href.indexOf(\"/support\") !== -1\n                      ? \"text-yellow-200\"\n                      : \"text-white\")\n                  }\n                  to=\"/support\"\n                >\n                  <FontAwesomeIcon fixedWidth\n                    className=\"mr-2 text-sm\"\n                    icon=\"tools\"\n                    color=\"#FFFFFF\"\n                  />{\" \"}\n                  Support\n                </Link>\n              </li>\n\n              <li className=\"items-center\">\n                <Link\n                  className={\n                    \"text-xs uppercase py-3 font-bold block hover:text-yellow-300 \" +\n                    (window.location.href.indexOf(\"/logout\") !== -1\n                      ? \"text-yellow-200\"\n                      : \"text-white\")\n                  }\n                  onClick={logOut}\n                  to=\"/login\"\n                >\n                  <FontAwesomeIcon fixedWidth\n                    className=\"mr-2 text-sm\"\n                    icon=\"times\"\n                    color=\"#FFFFFF\"\n                  />{\" \"}\n                  Logout\n                </Link>\n              </li>\n            </ul>\n\n            {/* Divider */}\n            <hr className=\"my-4 md:min-w-full\" />\n            {/* Heading */}\n            <h6 className=\"md:min-w-full text-white text-xs uppercase font-bold block pt-1 pb-4 no-underline\">\n              More Information\n            </h6>\n            {/* Navigation */}\n\n            <ul className=\"md:flex-col md:min-w-full flex flex-col list-none md:mb-4\">\n              <li className=\"items-center\">\n                <Link\n                  className={\n                    \"text-xs uppercase py-3 font-bold block hover:text-yellow-300 \" +\n                    (window.location.href.indexOf(\"/faq\") !== -1\n                      ? \"text-yellow-200\"\n                      : \"text-white\")\n                  }\n                  to=\"/faq\"\n                >\n                  <FontAwesomeIcon fixedWidth\n                    className=\"mr-2 text-sm\"\n                    icon=\"question\"\n                    color=\"#FFFFFF\"\n                  />{\" \"}\n                  F.A.Q.\n                </Link>\n              </li>\n\n              <li className=\"items-center\">\n                <Link\n                  className={\n                    \"text-xs uppercase py-3 font-bold block hover:text-yellow-300 \" +\n                    (window.location.href.indexOf(\"/usage\") !== -1\n                      ? \"text-yellow-200\"\n                      : \"text-white\")\n                  }\n                  to=\"/usage\"\n                >\n                  <FontAwesomeIcon fixedWidth\n                    className=\"mr-2 text-sm\"\n                    icon=\"lightbulb\"\n                    color=\"#FFFFFF\"\n                  />{\" \"}\n                  Usage\n                </Link>\n              </li>\n            </ul>\n          </div>\n        </div>\n      </nav>\n    </>\n  );\n}\n","import axios from \"axios\";\nimport AuthService from \"./auth.service\";\n\nconst currentUser = AuthService.getCurrentUser();\n\nconst authAxios = axios.create({\n    headers: {\n        'Authorization': `Bearer ${currentUser.token}`,\n        'Access-Control-Allow-Origin': '*',\n    }\n});\n\nconst getSessions = async () => {\n    const response = await authAxios.get('/call/' + currentUser.id);\n    console.log(response)\n    return response;\n}\n\nconst postSession = async (transcript, description, rating, duration) => {\n    return authAxios.post(\"/call/\" + currentUser.id, {\n        'audio_analysis': {\n            \"transcript\": transcript\n        },\n        'description': description,\n        'rating': rating,\n        'user_id': currentUser.id,\n        'duration': duration\n    });\n}\n\n\nexport default {\n    getSessions,\n    postSession\n};\n","export default __webpack_public_path__ + \"static/media/phonica.5b56cd9d.png\";","import React, { useState, useRef } from \"react\";\nimport Form from \"react-validation/build/form\";\nimport Input from \"react-validation/build/input\";\nimport CheckButton from \"react-validation/build/button\";\nimport { Link, withRouter } from 'react-router-dom';\nimport Footer from \"../../../components/Footer/Footer\"\nimport phonica from '../../../images/phonica.png'\n\nimport AuthService from \"../../../services/auth.service\";\n\nconst required = (value) => {\n  if (!value) {\n    return (\n      <div className=\"alert alert-danger\" role=\"alert\">\n        This field is required!\n      </div>\n    );\n  }\n};\n\nfunction LoginForm(props) {\n  const form = useRef();\n  const checkBtn = useRef();\n\n  const [username, setUsername] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [loading, setLoading] = useState(false);\n  const [message, setMessage] = useState(\"\");\n\n  const onChangeUsername = (e) => {\n    const username = e.target.value;\n    setUsername(username);\n  };\n\n  const onChangePassword = (e) => {\n    const password = e.target.value;\n    setPassword(password);\n  };\n\n  const handleLogin = (e) => {\n    e.preventDefault();\n\n    setMessage(\"\");\n\n    form.current.validateAll();\n\n    if (checkBtn.current.context._errors.length === 0) {\n      AuthService.login(username, password).then(\n        () => {\n          props.history.push(\"/dashboard\");\n          window.location.reload();\n        },\n        (error) => {\n          const resMessage =\n            (error.response &&\n              error.response.data &&\n              error.response.data.message) ||\n            error.message ||\n            error.toString();\n\n          setMessage(resMessage);\n        }\n      );\n    } else {\n      setLoading(false);\n    }\n  };\n\n  return (\n    <>\n      <div className=\"bg-gradient-to-r from-purple-200 via-purple-400 to-purple-800\n\">\n        <div className=\"flex h-screen\">\n          <div className=\"max-w-md w-full m-auto bg-white rounded p-5 shadow-2xl\">\n            <h1 className=\"text-4xl text-purple-700 text-center mb-2\">  PHONICA </h1>\n            <img className=\"w-56 mx-auto mb-2\" src={phonica} />\n\n            <Form onSubmit={handleLogin} ref={form}>\n              <label className=\"block mb-2 text-black\" htmlFor=\"username\">Username</label>\n              <Input\n                type=\"text\"\n                className=\"w-full p-2 mb-6 text-black border-b-2 border-purple-500 outline-none\"\n                name=\"username\"\n                value={username}\n                onChange={onChangeUsername}\n                validations={[required]}\n              />\n\n              <label className=\"block mb-2 text-black-500\" htmlFor=\"password\">Password</label>\n              <Input\n                type=\"password\"\n                className=\"w-full p-2 mb-6 text-black border-b-2 border-purple-500 outline-none focus:bg-gray-300\"\n                name=\"password\"\n                value={password}\n                onChange={onChangePassword}\n                validations={[required]}\n              />\n\n              <button className=\"w-full bg-purple-700 hover:bg-blue-700 text-white font-bold py-2 px-4 mb-6 rounded\">\n                <span>Login</span>\n              </button>\n              <CheckButton style={{ display: \"none\" }} ref={checkBtn} />\n\n              {message && (\n                <div className=\"form-group\">\n                  <div className=\"alert alert-danger\" role=\"alert\">\n                    {message}\n                  </div>\n                </div>\n              )}\n              <div className=\"text-center\">\n                <Link to=\"/register\">Don't have an account? Register here.</Link>\n              </div>\n            </Form>\n          </div>\n        </div>\n        <Footer color=\"#FFFFFF\" />\n      </div>\n    </>\n  );\n};\n\nexport default withRouter(LoginForm);","import React, { useState, useEffect, useCallback } from \"react\";\nimport { Line } from \"react-chartjs-2\";\nimport MetricsService from \"../../../services/metrics.service\";\nimport _ from 'underscore';\n\n\nconst LineChart = () => {\n  const [data, setData] = useState();\n\n  const fetchData = async () => {\n    try {\n      MetricsService.getSessions().then(response => {\n        setData(response.data);\n      });\n    } catch (err) {\n      console.log(err.message);\n    }\n  };\n\n  useEffect(() => {\n    fetchData();\n  }, []);\n\n  function getFillerWords() {\n    let filler_words = [];\n    for (let i = 0; i < Object.keys(data.calls).length; ++i) {\n      let count = 0;\n      for (let j = 0; j < data.calls[i].audio_analysis.filler_words.length; j++) {\n        count += data.calls[i].audio_analysis.filler_words[j][1];\n      }\n      filler_words.push(count);\n    }\n    return filler_words;\n  }\n\n  return (\n    <>\n      <div className=\"relative bg-white p-6 rounded-lg shadow-lg\">\n        <div className=\"relative bg-blueGray-100\">\n          <h6 className=\"uppercase mb-1 text-xl font-semibold\">\n            Filler Words Used Per Call\n          </h6>\n          {data && <Line\n            data={{\n              labels: _.range(1, Object.keys(data.calls).length + 1),\n              datasets: [\n                {\n                  label: \"Number of Filler Words Used\",\n                  fill: false,\n                  lineTension: 0.5,\n                  backgroundColor: \"rgba(75,192,192,1)\",\n                  borderColor: \"rgba(0,0,0,1)\",\n                  borderWidth: 2,\n                  data: getFillerWords(),\n                }\n              ]\n            }}\n            options={{\n              title: {\n                display: true,\n                text: \"Average Rainfall per month\",\n                fontSize: 20,\n              },\n              legend: {\n                display: true,\n                position: \"right\",\n              },\n            }}\n          />}\n        </div>\n      </div>\n    </>\n  )\n};\nexport default LineChart;\n","import React, { useState, useEffect } from \"react\";\nimport AuthService from \"../../../services/auth.service\";\nimport MetricsService from \"../../../services/metrics.service\"\n\nexport default function FillerWordTable() {\n  const currentUser = AuthService.getCurrentUser();\n  const [data, setData] = useState();\n\n  const fetchData = async () => {\n    try {\n      MetricsService.getSessions().then(response => {\n        setData(response.data);\n      });\n    } catch (err) {\n      console.log(err.message);\n    }\n  };\n\n  useEffect(() => {\n    fetchData();\n  }, []);\n\n  function renderTableData() {\n    let filler_words = findFrequentFillerWords();\n    return filler_words.map((filler, index) => {\n      const { word, frequency, used } = filler //destructuring\n      return (\n        <tr key={word}>\n          <th className=\"border-t-0 px-6 align-middle border-l-0 border-r-0 text-xs whitespace-nowrap p-4 text-left\">{word}</th>\n          <td className=\"border-t-0 px-6 align-middle border-l-0 border-r-0 text-xs whitespace-nowrap p-4\">{frequency}</td>\n          <td className=\"border-t-0 px-6 align-middle border-l-0 border-r-0 text-xs whitespace-nowrap p-4\">{used}</td>\n        </tr>\n      )\n    })\n  }\n\n  function findFrequentFillerWords() {\n    let filler_words = []\n    for (let i = 0; i < Object.keys(data.calls).length; ++i) {\n      for (let j = 0; j < data.calls[i].audio_analysis.filler_words.length; ++j) {\n        let found = filler_words.findIndex(call => call.word === data.calls[i].audio_analysis.filler_words[j][0]);\n        //filler word was already used in a call, increment calls used and frequency\n        if (found !== -1) {\n          filler_words[found].used += 1;\n          filler_words[found].frequency += data.calls[i].audio_analysis.filler_words[j][1];\n        }\n        //filler word not seen yet, create a new entry in the array\n        else {\n          filler_words.push({ \"word\": data.calls[i].audio_analysis.filler_words[j][0], \"frequency\": data.calls[i].audio_analysis.filler_words[j][1], \"used\": 1 });\n        }\n      }\n    }\n    filler_words.sort((a, b) => (a.frequency < b.frequency) ? 1 : -1)\n    filler_words = filler_words.slice(0, 6);\n    return filler_words;\n  }\n\n\n  return (\n    <>\n      <div className=\"relative bg-white p-6 rounded-lg shadow-lg mb-8\">\n        <div className=\"flex flex-wrap items-center\">\n          <div className=\"relative w-full px-4 max-w-full flex-grow flex-1\">\n            <h6 className=\"uppercase mb-1 text-xl font-semibold\">\n              Filler Word Frequencies\n            </h6>\n          </div>\n          <div className=\"relative w-full px-4 max-w-full flex-grow flex-1 text-right\">\n            <button\n              className=\"bg-pink-600 text-white active:bg-indigo-600 text-xs font-bold uppercase px-3 py-1 rounded outline-none focus:outline-none mr-1 mb-1 ease-linear transition-all duration-150\"\n              type=\"button\"\n            >\n              See all\n            </button>\n          </div>\n        </div>\n        <div className=\"block w-full overflow-x-auto\">\n          <table className=\"items-center w-full bg-transparent border-collapse\">\n            <thead>\n              <tr>\n                <th className=\"px-6 bg-blueGray-50 text-blueGray-500 align-middle border border-solid border-blueGray-100 py-3 text-xs uppercase border-l-0 border-r-0 whitespace-nowrap font-semibold text-left\">\n                  Word\n                </th>\n                <th className=\"px-6 bg-blueGray-50 text-blueGray-500 align-middle border border-solid border-blueGray-100 py-3 text-xs uppercase border-l-0 border-r-0 whitespace-nowrap font-semibold text-left\">\n                  Frequency\n                </th>\n                <th className=\"px-6 bg-blueGray-50 text-blueGray-500 align-middle border border-solid border-blueGray-100 py-3 text-xs uppercase border-l-0 border-r-0 whitespace-nowrap font-semibold text-left\">\n                  # Calls Used\n                </th>\n              </tr>\n            </thead>\n            {data && <tbody>\n              {renderTableData()}\n            </tbody>}\n          </table>\n        </div>\n      </div>\n    </>\n  );\n}\n\n","import React, { useState, useEffect } from \"react\";\nimport { Bar } from \"react-chartjs-2\";\nimport _ from 'underscore';\nimport MetricsService from \"../../../services/metrics.service\"\n\nconst BarChart = () => {\n  const [data, setData] = useState();\n\n  const fetchData = async () => {\n    try {\n      MetricsService.getSessions().then(response => {\n        setData(response.data);\n      });\n    } catch (err) {\n      console.log(err.message);\n    }\n  };\n\n  useEffect(() => {\n    fetchData();\n  }, []);\n\n  function gatherRatings() {\n    let ratingsCount = [0, 0, 0, 0];\n    for (let i = 0; i < Object.keys(data.calls).length; ++i) {\n      if (data.calls[i].rating === \"Poor\") ratingsCount[0]++;\n      else if (data.calls[i].rating === \"Okay\") ratingsCount[1]++;\n      else if (data.calls[i].rating === \"Good\") ratingsCount[2]++;\n      else ratingsCount[3]++;\n    }\n    return ratingsCount;\n  }\n\n\n  return (\n    <div className=\"relative bg-white p-6 rounded-lg shadow-lg mb-8\">\n      <h6 className=\"uppercase mb-1 text-xl font-semibold\">\n        Ratings Given For Each Call\n      </h6>\n      {data && <Bar\n        data={{\n          labels: [\"Poor\", \"Okay\", \"Good\", \"Excellent\"],\n          datasets: [\n            {\n              label: \"# of Ratings\",\n              data: gatherRatings(),\n              backgroundColor: [\n                \"rgba(237, 0, 20, 0.5)\",\n                \"rgba(255, 240, 25, 0.5)\",\n                \"rgba(79, 0, 255, 0.5)\",\n                \"rgba(8,255,8, 0.5)\",\n              ],\n              borderColor: [\n                \"rgba(237, 0, 20, 1)\",\n                \"rgba(255, 240, 25, 1)\",\n                \"rgba(79, 0, 255, 1)\",\n                \"rgba(8,255,8, 1)\",\n              ],\n              borderWidth: 1,\n            },\n          ]\n        }}\n        options={{\n          scales: {\n            yAxes: [\n              {\n                ticks: {\n                  beginAtZero: true,\n                },\n              },\n            ],\n          }\n        }}\n      />}\n    </div>\n  )\n}\n\nexport default BarChart;\n","import React from \"react\";\n\n/* FONT AWESOME ICON IMPORTS */\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport \"../../icons/font-awesome\";\n\nexport default function CardStats({\n  statSubtitle,\n  statTitle,\n  statIconName,\n  statIconColor,\n}) {\n  return (\n    <>\n      <div className=\"relative flex flex-col min-w-0 break-words bg-white rounded mb-6 xl:mb-0 shadow-lg\">\n        <div className=\"flex-auto p-4\">\n          <div className=\"flex flex-wrap\">\n            <div className=\"relative w-full pr-4 max-w-full flex-grow flex-1\">\n              <h5 className=\"text-blueGray-400 uppercase font-bold text-xs\">\n                {statSubtitle}\n              </h5>\n              <span className=\"font-semibold text-xl text-blueGray-700\">\n                {statTitle}\n              </span>\n            </div>\n            <div className=\"relative w-auto pl-4 flex-initial\">\n              <div\n                className={\n                  \"text-white p-3 text-center inline-flex items-center justify-center w-12 h-12 shadow-lg rounded-full \" +\n                  statIconColor\n                }\n              >\n                <FontAwesomeIcon icon={statIconName} color=\"#FFFFFF\" />{\" \"}\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </>\n  );\n}","import React, { useState, useEffect } from \"react\";\nimport CardStats from \"../CardStats/CardStats.js\";\nimport AuthService from \"../../services/auth.service\";\nimport axios from 'axios';\nimport MetricsService from \"../../services/metrics.service\"\n\nexport default function Header() {\n  const currentUser = AuthService.getCurrentUser();\n  const [data, setData] = useState();\n\n  const fetchData = async () => {\n    try {\n      MetricsService.getSessions().then(response => {\n        setData(response.data);\n      });\n    } catch (err) {\n      console.log(err.message);\n    }\n  };\n\n  useEffect(() => {\n    fetchData();\n  }, []);\n\n  function calculateAvgRightEyeTick() {\n    let total = 0;\n    let num_entries = 0;\n    for (let i = 0; i < Object.keys(data.calls).length; ++i) {\n      for (let j = 0; j < data.calls[i].video_analysis.right_eye_intervals.length; ++j) {\n        total += data.calls[i].video_analysis.right_eye_intervals[j][1] - data.calls[i].video_analysis.right_eye_intervals[j][0];\n        num_entries += 1;\n      }\n    }\n    return total / num_entries;\n  }\n\n  function calculateAvgLeftEyeTick() {\n    let total = 0;\n    let num_entries = 0;\n    for (let i = 0; i < Object.keys(data.calls).length; ++i) {\n      for (let j = 0; j < data.calls[i].video_analysis.left_eye_intervals.length; ++j) {\n        total += data.calls[i].video_analysis.left_eye_intervals[j][1] - data.calls[i].video_analysis.left_eye_intervals[j][0];\n        num_entries += 1;\n      }\n    }\n    return total / num_entries;\n  }\n\n  function calculateAvgMouthTick() {\n    let total = 0;\n    let num_entries = 0;\n    for (let i = 0; i < Object.keys(data.calls).length; ++i) {\n      for (let j = 0; j < data.calls[i].video_analysis.mouth_intervals.length; ++j) {\n        total += data.calls[i].video_analysis.mouth_intervals[j][1] - data.calls[i].video_analysis.mouth_intervals[j][0];\n        num_entries += 1;\n      }\n    }\n    return total / num_entries;\n  }\n\n  function calculateAvgFillerWords() {\n    let total = 0;\n    let num_entries = 0;\n    for (let i = 0; i < Object.keys(data.calls).length; ++i) {\n      for (let j = 0; j < data.calls[i].audio_analysis.filler_words.length; j++) {\n        total += data.calls[i].audio_analysis.filler_words[j][1];\n      }\n      num_entries += 1;\n    }\n    return total / num_entries;\n  }\n\n  return (\n    <>\n      {/* Header */}\n      <div className=\"relative bg-white md:pt-32 pb-16 pt-12 h-7/8\">\n        <div className=\"px-4 md:px-10 mx-auto w-full\">\n          <div>\n            {/* Card stats */}\n            <div className=\"flex flex-wrap\">\n              {/*\n              <div className=\"w-full lg:w-6/12 xl:w-3/12 px-4\">\n                {data && <CardStats\n                  statSubtitle=\"AVG. RIGHT EYE TICK TIME\"\n                  statTitle={calculateAvgRightEyeTick().toFixed(2) + 's'}\n                  statIconName=\"eye\"\n                  statIconColor=\"bg-red-400\"\n                />}\n              </div>\n              <div className=\"w-full lg:w-6/12 xl:w-3/12 px-4\">\n                {data && <CardStats\n                  statSubtitle=\"AVG. LEFT EYE TICK TIME\"\n                  statTitle={calculateAvgLeftEyeTick().toFixed(2) + 's'}\n                  statIconName=\"eye\"\n                  statIconColor=\"bg-green-400\"\n                />}\n              </div>\n              <div className=\"w-full lg:w-6/12 xl:w-3/12 px-4\">\n                {data && <CardStats\n                  statSubtitle=\"AVG. MOUTH TICK TIME\"\n                  statTitle={calculateAvgMouthTick().toFixed(2) + 's'}\n                  statIconName=\"comment\"\n                  statIconColor=\"bg-blue-400\"\n                />}\n                </div>*/}\n              <div className=\"w-full lg:w-6/12 xl:w-3/12 px-4\">\n                {data && <CardStats\n                  statSubtitle=\"AVG. # OF FILLER WORDS USED\"\n                  statTitle={calculateAvgFillerWords().toFixed(2)}\n                  statIconName=\"comment\"\n                  statIconColor=\"bg-yellow-200\"\n                />}\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </>\n  );\n}\n","import { library } from \"@fortawesome/fontawesome-svg-core\";\nimport { faBars } from \"@fortawesome/free-solid-svg-icons\";\nimport { faTv } from \"@fortawesome/free-solid-svg-icons\";\nimport { faHeadphones } from \"@fortawesome/free-solid-svg-icons\";\nimport { faUser } from \"@fortawesome/free-solid-svg-icons\";\nimport { faTimes } from \"@fortawesome/free-solid-svg-icons\";\nimport { faPaperclip } from \"@fortawesome/free-solid-svg-icons\";\nimport { faTools } from \"@fortawesome/free-solid-svg-icons\";\nimport { faPhone } from \"@fortawesome/free-solid-svg-icons\";\nimport { faEye } from \"@fortawesome/free-solid-svg-icons\";\nimport { faComment } from \"@fortawesome/free-solid-svg-icons\";\nimport { faLightbulb } from \"@fortawesome/free-solid-svg-icons\";\nimport { faQuestion } from \"@fortawesome/free-solid-svg-icons\";\nimport { faSadTear } from \"@fortawesome/free-solid-svg-icons\";\nimport { faMeh } from \"@fortawesome/free-solid-svg-icons\";\nimport { faSmile } from \"@fortawesome/free-solid-svg-icons\";\nimport { faLaughBeam } from \"@fortawesome/free-solid-svg-icons\";\nimport { faAngleDown } from \"@fortawesome/free-solid-svg-icons\";\nimport { faAngleUp } from \"@fortawesome/free-solid-svg-icons\";\nimport { faMicrophone } from \"@fortawesome/free-solid-svg-icons\";\nimport { faExternalLinkAlt } from \"@fortawesome/free-solid-svg-icons\";\n\nlibrary.add(faBars);\nlibrary.add(faTv);\nlibrary.add(faHeadphones);\nlibrary.add(faUser);\nlibrary.add(faTimes);\nlibrary.add(faPaperclip);\nlibrary.add(faTools);\nlibrary.add(faPhone);\nlibrary.add(faEye);\nlibrary.add(faComment);\nlibrary.add(faLightbulb);\nlibrary.add(faQuestion);\nlibrary.add(faSadTear);\nlibrary.add(faMeh);\nlibrary.add(faSmile);\nlibrary.add(faLaughBeam);\nlibrary.add(faAngleDown);\nlibrary.add(faAngleUp);\nlibrary.add(faQuestion);\nlibrary.add(faMicrophone);\nlibrary.add(faExternalLinkAlt);\n","import LineChart from \"../components/Charts/LineChart/LineChart\";\nimport FillerWordTable from \"../components/Charts/FillerWordTable/FillerWordTable\";\nimport BarChart from \"../components/Charts/BarChart/BarChart\";\nimport WeightedAverage from \"../components/Charts/WeightedAverage/WeightedAverage\";\nimport Sidebar from \"../components/Sidebar/Sidebar\";\nimport Header from \"../components/Header/Header\";\nimport Footer from \"../components/Footer/Footer\";\nimport Navigation from \"../components/Navigation/Navigation\";\n\n\nfunction Dashboard() {\n  return (\n    <>\n      <Sidebar />\n      <Navigation />\n      <div className=\"relative md:ml-64 bg-blueGray-100\">\n        <Header />\n        <div className=\"flex flex-wrap\">\n          <div className=\"w-full xl:w-6/12 mb-12 xl:mb-0 px-4\">\n            <LineChart />\n          </div>\n          <div className=\"w-full xl:w-6/12 px-4\">\n            <BarChart />\n          </div>\n          {/* <div className=\"w-full mb-12 xl:mb-0 px-4\">\n            <WeightedAverage />\n          </div> */}\n          <div className=\"w-full mb-12 xl:mb-0 px-4\">\n            <FillerWordTable />\n          </div>\n        </div>\n        <Footer color=\"#000000\" />\n      </div>\n    </>\n  );\n}\n\nexport default Dashboard;\n","function Modal(props) {\n    return (\n        <>\n            <div\n                className=\"justify-center items-center flex overflow-x-hidden overflow-y-auto fixed inset-0 z-50 outline-none focus:outline-none\"\n            >\n                <div className=\"relative w-auto my-6 mx-auto max-w-3xl\">\n                    {/*content*/}\n                    <div className=\"border-0 rounded-lg shadow-lg relative flex flex-col w-full bg-white outline-none focus:outline-none\">\n                        {/*header*/}\n                        <div className=\"flex items-start justify-between p-5 border-b border-solid border-blueGray-200 rounded-t\">\n                            <h3 className=\"text-3xl font-semibold\">\n                                {props.title}\n                            </h3>\n                        </div>\n                        {/*body*/}\n                        <div className=\"relative p-6 flex-auto\">\n                            <p className=\"my-4 text-blueGray-500 text-lg leading-relaxed\">\n                                {props.content}\n                            </p>\n                        </div>\n                        <div className=\"flex items-center justify-end p-6 border-t border-solid border-blueGray-200 rounded-b\">\n                            <button\n                                className=\"text-red-500 background-transparent font-bold uppercase px-6 py-2 text-sm outline-none focus:outline-none mr-1 mb-1 ease-linear transition-all duration-150\"\n                                type=\"button\"\n                                onClick={() => props.setShowModal(false)}\n                            >\n                                Close\n                            </button>\n                        </div>\n                    </div>\n\n                </div>\n\n            </div>\n\n            <div className=\"opacity-25 fixed inset-0 z-40 bg-black\"></div>\n        </>\n    );\n}\n\nexport default Modal;","import React, { useState, useEffect } from \"react\";\nimport Sidebar from \"../components/Sidebar/Sidebar\";\nimport Footer from \"../components/Footer/Footer\";\nimport Navigation from \"../components/Navigation/Navigation\";\nimport MetricsService from \"../services/metrics.service\";\nimport Select from \"react-select\"\nimport Highlighter from \"react-highlight-words\";\nimport Modal from \"../components/Modal/Modal\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\n\n\nfunction Sessions() {\n  const [data, setData] = useState();\n  const [result, dropdownValue] = useState(generateDropdownOptions.label);\n  const [showModal, setShowModal] = useState(false);\n\n  const dropdownHandler = (e) => {\n    dropdownValue(e.value);\n  }\n\n  const fetchData = async () => {\n    try {\n      MetricsService.getSessions().then(response => {\n        setData(response.data);\n      });\n    } catch (err) {\n      console.log(err.message);\n    }\n  };\n\n  function generateDropdownOptions() {\n    const dropdownItems = [];\n    for (let i = 0; i < Object.keys(data.calls).length; ++i) {\n      dropdownItems.push({ \"value\": i, \"label\": \"Call \" + (i + 1) })\n    }\n    return dropdownItems;\n\n  }\n\n  useEffect(() => {\n    fetchData();\n  }, []);\n\n  function getFillerWords(call) {\n    let filler_words = [];\n    for (let i = 0; i < data.calls[call].audio_analysis.filler_words.length; ++i) {\n      filler_words.push(data.calls[call].audio_analysis.filler_words[i][0]);\n    }\n    return filler_words;\n  }\n\n  function renderTableData(call) {\n    let filler_words = data.calls[call].audio_analysis.filler_words;\n    return filler_words.map((filler, index) => {\n      const word = filler[0];\n      const frequency = filler[1];\n      return (\n        <tr key={word}>\n          <th className=\"border-t-0 px-6 align-middle border-l-0 border-r-0 text-xs whitespace-nowrap p-4 text-left\">{word}</th>\n          <td className=\"border-t-0 px-6 align-middle border-l-0 border-r-0 text-xs whitespace-nowrap p-4\">{frequency}</td>\n        </tr>\n      )\n    })\n  }\n\n  function renderFillerWords(call) {\n    if (data.calls[call].audio_analysis.filler_words.length === 0) {\n      return <h1 className=\"mb-4\"><strong>Filler Words:</strong> None</h1>;\n    }\n    else {\n      return (\n        <div className=\"block w-full overflow-x-auto mt-4\">\n          <h1 className=\"mb-4 font-bold\">Filler Words:</h1>\n          <table className=\"items-center w-full bg-transparent border-collapse\">\n            <thead>\n              <tr>\n                <th className=\"px-6 bg-blueGray-50 text-blueGray-500 align-middle border border-solid border-blueGray-100 py-3 text-xs uppercase border-l-0 border-r-0 whitespace-nowrap font-semibold text-left\">\n                  Word\n                </th>\n                <th className=\"px-6 bg-blueGray-50 text-blueGray-500 align-middle border border-solid border-blueGray-100 py-3 text-xs uppercase border-l-0 border-r-0 whitespace-nowrap font-semibold text-left\">\n                  Frequency\n                </th>\n              </tr>\n            </thead>\n            {data && <tbody>\n              {renderTableData(call)}\n            </tbody>}\n          </table>\n        </div>\n      )\n    }\n  }\n\n  function renderPartialTranscript(call) {\n    let transcript = data.calls[call].audio_analysis.transcript;\n    if (transcript.split(' ').length < 30) {\n      return <Highlighter\n        highlightClassName=\"transcript\"\n        searchWords={getFillerWords(result)}\n        autoEscape={true}\n        textToHighlight={transcript}\n      />\n    }\n    else {\n      return <Highlighter\n        highlightClassName=\"transcript\"\n        searchWords={getFillerWords(result)}\n        autoEscape={true}\n        textToHighlight={transcript.split(/\\s+/).slice(0, 30).join(\" \") + \"...\"}\n      />\n    }\n  }\n\n  function renderRating(call) {\n    switch (data.calls[result].rating) {\n      case \"Poor\":\n        return <span className=\"text-red-500\">Poor</span>\n      case \"Okay\":\n        return <span className=\"text-yellow-500\">Okay</span>\n      case \"Good\":\n        return <span className=\"text-blue-500\">Good</span>\n      case \"Excellent\":\n        return <span className=\"text-green-500\">Excellent</span>\n    }\n  }\n\n  return (\n    <>\n      <Sidebar />\n      <Navigation />\n      <div className=\"md:pt-16 flex flex-col min-h-screen relative md:ml-64 bg-blueGray-100\">\n        <div className=\"flex-grow mx-auto w-full m-5 xl:mb-0 px-4 divide-solid\">\n          <div className=\"px-4 md:px-10 mx-auto\">\n            <div className=\"mb-4\">\n              <p className=\"mb-4 font-bold\">Select a recording from the dropdown to view the metrics for that recording:</p>\n              {data && <Select\n                options={generateDropdownOptions()}\n                onChange={dropdownHandler}\n              />}\n            </div>\n            {data && result !== undefined && <h1 className=\"mb-4\"><strong>Duration: </strong>{data.calls[result].duration} seconds</h1>}\n            {data && result !== undefined && <h1 className=\"mb-4\"><strong>Rating Given: </strong>{renderRating(result)}</h1>}\n            {data && result !== undefined && <h1 className=\"mb-4\"><strong>Description: </strong>{data.calls[result].description}</h1>}\n            {data && result !== undefined && (\n              <>\n                <h1 className=\"mb-4\"><strong><button\n                  className=\"\"\n                  type=\"button\"\n                  onClick={() => setShowModal(true)}\n                >\n                  <FontAwesomeIcon icon=\"external-link-alt\" className=\"mr-2\" />\n                </button>Transcript:</strong> {renderPartialTranscript(result)}</h1>\n                {showModal ? <Modal title=\"Transcript\" content={\n                  <Highlighter\n                    highlightClassName=\"transcript\"\n                    searchWords={getFillerWords(result)}\n                    autoEscape={true}\n                    textToHighlight={data.calls[result].audio_analysis.transcript}\n                  />} setShowModal={setShowModal} /> : null}\n              </>)}\n\n            {data && result !== undefined && renderFillerWords(result)}\n          </div>\n        </div>\n        <Footer color=\"#000000\" />\n      </div>\n    </>\n  );\n}\n\nexport default Sessions;\n","import React from \"react\";\nimport Collapsible from \"react-collapsible\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\n\nfunction FaqItem(props) {\n  const [open, setOpen] = React.useState(false);\n\n  // styling for answer text element\n  const classNames = [\n    \"normal-case\",\n    \"text-lg\",\n    \"font-normal\",\n    \"px-2\",\n    \"mt-2\",\n    \"mb-3\",\n    \"border-l\",\n    \"border-solid\",\n  ];\n\n  return (\n    <div className=\"uppercase mb-2 text-xl font-semibold\">\n      <Collapsible\n        trigger={<Trigger text={props.question} open={open} />}\n        onOpening={() => {\n          setOpen(true);\n        }}\n        onClosing={() => {\n          setOpen(false);\n        }}\n      >\n        <div className={classNames.join(\" \")}>{props.answer}</div>\n      </Collapsible>\n    </div>\n  );\n}\n\nfunction Trigger(props) {\n  // Styling for trigger text element\n  const classNames = [\n    \"normal-case\",\n    \"text-xl\",\n    \"font-semibold\",\n    \"mb-1\",\n    \"p-1\",\n    \"w-full\",\n    \"rounded\",\n    \"shadow-lg\",\n    \"bg-purple-300\",\n    \"cursor-pointer\",\n  ];\n\n  return (\n    <>\n      <div className={classNames.join(\" \")}>\n        {props.text}\n        <FontAwesomeIcon\n          icon={props.open ? \"angle-up\" : \"angle-down\"}\n          className=\"float-right mx-1\"\n        />\n      </div>\n    </>\n  );\n}\n\nexport default FaqItem;\n","import Sidebar from \"../components/Sidebar/Sidebar\";\nimport Footer from \"../components/Footer/Footer\";\nimport FaqItem from \"../components/FaqItem/FaqItem\";\nimport Navigation from \"../components/Navigation/Navigation\";\n\nconst faqs = [\n  {\n    id: 0,\n    question: \"What is Phonica?\",\n    answer:\n      \"Phonica is an application made up of a set of tools to help you track and manage your speech. We let you practice speaking in a natural environment while giving unbiased feedback, track your speech statistics over time, and provide an interface for you to view this information in an intuitive manner.\",\n  },\n  {\n    id: 1,\n    question: \"Is Phonica speech therapy?\",\n    answer:\n      \"No. Phonica is not speech therapy and doesn't aim to replace any form of speech therapy you may be currently be taking advantage of. Rather, Phonica is meant to be a utility for you to take ownership over your own speech by providing useful analysis of how you talk in an un-opinionated manner. What you do with our analysis is up to you! We don't try to suggest methods of improvement, or even if you need improvement, but give you feedback that can help you and/or your speech therapist make those decisions.\",\n  },\n  {\n    id: 2,\n    question: \"Phonica's tools seem pretty limited...\",\n    answer:\n      \"Yes they are! Phonica is very early on in development and what's currently available to users is a small fraction of what we intend to offer in the future. However, we still think it's worth it to have a product (albeit a limited one) available so that we can gather feedback from users while we continue to add more features.\",\n  },\n  {\n    id: 3,\n    question: \"What does Phonica do with the analysis of my speech?\",\n    answer:\n      \"The intention is simply to store and track our analyses for you to view at your convenience. Currently we store the entire transcript of each session along with some statistics in our database, but these are only ever viewed by the user to whom they belong. We don't sell or otherwise distribute any of these records. We know your speech and the conversations you have can be very private and respecting that privacy is a top priority. In the future we may use users' session data to help train machine learning models as we implement new features, but we will never do this without explicit consent from each user.\",\n  },\n];\n\nfunction Faq(props) {\n  return (\n    <>\n      <Sidebar />\n      <Navigation />\n      <div className=\"md:pt-16 flex flex-col min-h-screen relative md:ml-64 bg-blueGray-100\">\n        <div className=\"flex-grow mx-auto w-full m-5 xl:mb-0 px-4 divide-solid\">\n          <div className=\"uppercase text-xl font-bold\">\n            Frequently Asked Questions\n          </div>\n          <hr className=\"my-4 w-full\" />\n          {faqs.map((faq) => (\n            <FaqItem key={faq.id} question={faq.question} answer={faq.answer} />\n          ))}\n          <hr className=\"my-4 w-full\" />\n        </div>\n        <Footer color=\"#000000\"/>\n      </div>\n    </>\n  );\n}\n\nexport default Faq;\n","function RecorderUsage() {\n  return (\n    <div className=\"flex-col\">\n      <h2 className=\"text-xl font-bold uppercase\">Recorder Page</h2>\n      <hr className=\"my-4 w-full\" />\n      <div className=\"flex flex-col place-items-center ml-4\">\n        <div className=\"mt-4\">\n          The recorder page is where you can record your speech for analysis.\n          Simply press\n          <span className=\"h-5 bg-red-500 text-white font-bold mx-1 py-1 px-1 rounded\">\n            Record\n          </span>\n          to start recording and\n          <span className=\"h-5 bg-blue-500 text-white font-bold mx-1 py-1 px-1 rounded\">\n            Stop\n          </span>\n          to end the recording. The timer will show you the duration of your\n          recording.\n        </div>\n        <img\n          src=\"/record-stop.png\"\n          alt=\"recordStop\"\n          className=\"shadow-2xl rounded\"\n        />\n        <div className=\"my-4\">\n          After stopping a recording, you are able to give a rating and a\n          description. The rating given is meant to be your own assessment of\n          how your speech was during the recording and is saved as a metric that\n          you can view later. The description will also be saved for each\n          recording so that you can more easily identify specific recordings\n          when looking back at your sessions.\n        </div>\n        <img\n          src=\"/record-rating-desc.png\"\n          alt=\"recordRatingDesc\"\n          className=\"shadow-2xl rounded max-w-1/2\"\n        />\n      </div>\n    </div>\n  );\n}\n\nexport default RecorderUsage;\n","function DashboardUsage() {\n  return (\n    <div className=\"flex-col\">\n      <h2 className=\"text-xl font-bold uppercase\">Dashboard Page</h2>\n      <hr className=\"my-4 w-full\" />\n      <div className=\"flex flex-col place-items-center ml-4\">\n        <div className=\"my-4\">\n          The Dashboard page is where you can see all of the statistics we've\n          gathered from your recordings. Unlike the Sessions page where the user\n          can view information about individual recordings, here we show trends\n          in your speech over time. At the top of the page you can see the\n          average number of filler words (words like \"uh\" and \"um\") used per\n          session.\n        </div>\n        <img\n          src=\"/dashboard-avg-filler.png\"\n          alt=\"dashboardAvgFiller\"\n          className=\"shadow-2xl rounded\"\n        />\n        <div className=\"my-4\">\n          Next there's a helpful line graph that shows the number of filler\n          words used in each recording. The goal of this chart is to help the \n          user to see how their filler word usage has changed while using \n          Phonica.\n        </div>\n        <img\n          src=\"/dashboard-filler-chart.png\"\n          alt=\"dashboardFillerChart\"\n          className=\"shadow-2xl rounded\"\n        />\n        <div className=\"my-4\">\n          Because Phonica is about taking ownership over your own speech, we\n          want to help users keep track of how well they think their sessions\n          are going. Here you can see how many recordings you've given each\n          available rating. This is helpful for checking the ratio of\n          \"excellent\" sessions to \"poor\" sessions, and each rating in between.\n        </div>\n        <img\n          src=\"/dashboard-ratings-chart.png\"\n          alt=\"dashboardRatingsChart\"\n          className=\"shadow-2xl rounded\"\n        />\n        <div className=\"my-4\">\n          Finally we show the user the breakdown of their most used filler\n          words. This table simply lists the number of times each filler word\n          was detected over every recording on file. The goal here is to give\n          some insight as to which words to focus on reducing usage of for\n          clearer speech.\n        </div>\n        <img\n          src=\"/dashboard-filler-freq.png\"\n          alt=\"dashboardFillerFreq\"\n          className=\"shadow-2xl rounded\"\n        />\n      </div>\n    </div>\n  );\n}\n\nexport default DashboardUsage;\n","function SessionsUsage() {\n  return (\n    <div className=\"flex-col\">\n      <h2 className=\"text-xl font-bold uppercase\">Sessions Page</h2>\n      <hr className=\"my-4 w-full\" />\n      <div className=\"flex flex-col place-items-center ml-4\">\n        <div className=\"my-4\">\n          After a recording is saved, the user will be redirected to the\n          Sessions page (also accessible from the sidebar). Here the user can\n          view information about each recording that was saved. The dropdown\n          menu lets the user select any saved recording.\n        </div>\n        <img\n          src=\"/sessions-select.png\"\n          alt=\"sessionsSelect\"\n          className=\"shadow-2xl rounded\"\n        />\n        <div className=\"my-4\">\n          With a recording selected, the page shows information about that\n          session. This includes the rating given by the user and the transcript\n          with any detected filler words highlighted.\n        </div>\n        <img\n          src=\"/sessions-info.png\"\n          alt=\"sessionsInfo\"\n          className=\"shadow-2xl rounded\"\n        />\n      </div>\n    </div>\n  );\n}\n\nexport default SessionsUsage;\n","import Footer from \"../components/Footer/Footer\";\nimport Sidebar from \"../components/Sidebar/Sidebar\";\nimport Navigation from \"../components/Navigation/Navigation\";\nimport RecorderUsage from \"../components/Usage/RecorderUsage\";\nimport DashboardUsage from \"../components/Usage/DashboardUsage\";\nimport SessionsUsage from \"../components/Usage/SessionsUsage\";\n\n// outer div that includes sticky footer (after sidebar and nav)\nconst pageClasses = [\n  \"md:pt-16\",\n  \"flex flex-col\",\n  \"min-h-screen\",\n  \"relative\",\n  \"md:ml-64\",\n  \"bg-blueGray-100\",\n];\n\n// inner div that has page specific content\nconst contentClasses = [\n  \"flex-col\",\n  \"flex-grow\",\n  \"mx-auto\",\n  \"w-full\",\n  \"m-5\",\n  \"px-4\",\n  \"w-auto\",\n  \"lg:w-3/4\",\n  \"xl:w-3/5\",\n];\n\nfunction Usage() {\n  return (\n    <>\n      <Sidebar />\n      <Navigation />\n      <div className={pageClasses.join(\" \")}>\n        <div className={contentClasses.join(\" \")}>\n          <div className=\"mb-5\">\n            <h1 className=\"text-xl font-bold uppercase\">Usage Information</h1>\n            <hr className=\"my-4 w-full\" />\n            <div className=\"flex flex-col place-items-center mt-4\">\n              Here you can find information about how to use Phonica. This page\n              focuses on the tools under ANALYTICS on the sidebar and explains\n              what each feature is for and how they can be helpful to our users.\n            </div>\n          </div>\n          <div className=\"border-solid border-l-2\">\n            <div className=\"mb-10 ml-4\">\n              <RecorderUsage />\n            </div>\n            <div className=\"mb-10 ml-4\">\n              <SessionsUsage />\n            </div>\n            <div className=\"mb-10 ml-4\">\n              <DashboardUsage />\n            </div>\n          </div>\n        </div>\n        <Footer />\n      </div>\n    </>\n  );\n}\n\nexport default Usage;\n","import LineChart from \"../components/Charts/LineChart/LineChart\";\nimport FillerWordTable from \"../components/Charts/FillerWordTable/FillerWordTable\";\nimport BarChart from \"../components/Charts/BarChart/BarChart\";\nimport WeightedAverage from \"../components/Charts/WeightedAverage/WeightedAverage\";\nimport Sidebar from \"../components/Sidebar/Sidebar\";\nimport Header from \"../components/Header/Header\";\nimport Footer from \"../components/Footer/Footer\";\nimport Navigation from \"../components/Navigation/Navigation\";\n\n\nfunction Dashboard() {\n  return (\n    <>\n      <Sidebar />\n      <Navigation />\n      <div className=\"relative md:ml-64 bg-blueGray-100\">\n        <Header />\n        <h1>TODO</h1>\n        <Footer color=\"#000000\" />\n      </div>\n    </>\n  );\n}\n\nexport default Dashboard;\n","import React, { useState, useRef } from \"react\";\nimport Form from \"react-validation/build/form\";\nimport Input from \"react-validation/build/input\";\nimport CheckButton from \"react-validation/build/button\";\nimport { isEmail } from \"validator\";\nimport phonica from '../../../images/phonica.png'\nimport Footer from \"../../../components/Footer/Footer\"\nimport { Link, withRouter } from 'react-router-dom';\n\n\nimport AuthService from \"../../../services/auth.service\";\n\nconst required = (value) => {\n  if (!value) {\n    return (\n      <div className=\"alert alert-danger text-red-700\" role=\"alert\">\n        This field is required!\n      </div>\n    );\n  }\n};\n\nconst validEmail = (value) => {\n  if (!isEmail(value)) {\n    return (\n      <div className=\"alert alert-danger text-red-700\" role=\"alert\">\n        This is not a valid email.\n      </div>\n    );\n  }\n};\n\nconst validUsername = (value) => {\n  if (value.length < 3 || value.length > 20) {\n    return (\n      <div className=\"alert alert-danger text-red-700\" role=\"alert\">\n        The username must be between 3 and 20 characters.\n      </div>\n    );\n  }\n};\n\nconst validPassword = (value) => {\n  if (value.length < 6 || value.length > 40) {\n    return (\n      <div className=\"alert alert-danger text-red-700\" role=\"alert\">\n        The password must be between 6 and 40 characters.\n      </div>\n    );\n  }\n};\n\nfunction Register(props) {\n  const form = useRef();\n  const checkBtn = useRef();\n\n  const [name, setName] = useState(\"\");\n  const [username, setUsername] = useState(\"\");\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [successful, setSuccessful] = useState(false);\n  const [message, setMessage] = useState(\"\");\n\n  const onChangeName = (e) => {\n    const name = e.target.value;\n    setName(name);\n  };\n\n\n  const onChangeUsername = (e) => {\n    const username = e.target.value;\n    setUsername(username);\n  };\n\n  const onChangeEmail = (e) => {\n    const email = e.target.value;\n    setEmail(email);\n  };\n\n  const onChangePassword = (e) => {\n    const password = e.target.value;\n    setPassword(password);\n  };\n\n\n  const handleRegister = (e) => {\n    e.preventDefault();\n\n    setMessage(\"\");\n    setSuccessful(false);\n\n    form.current.validateAll();\n\n    if (checkBtn.current.context._errors.length === 0) {\n      AuthService.register(name, username, email, password).then(\n        (response) => {\n          setMessage(response.data.message);\n          setSuccessful(true);\n          props.history.push(\"/login\");\n          window.location.reload();\n        },\n        (error) => {\n          const resMessage =\n            (error.response &&\n              error.response.data &&\n              error.response.data.message) ||\n            error.message ||\n            error.toString();\n\n          setMessage(resMessage);\n          setSuccessful(false);\n        }\n      );\n    }\n  };\n\n  return (\n    <div className=\"bg-gradient-to-r from-purple-200 via-purple-400 to-purple-800\n    \">\n      <div className=\"flex h-screen\">\n        <div className=\"max-w-md w-full m-auto bg-white rounded p-5 shadow-2xl\">\n          <h1 className=\"text-4xl text-purple-700 text-center mb-2\">  PHONICA </h1>\n          <img className=\"w-56 mx-auto mb-2\" src={phonica} />\n\n          <Form onSubmit={handleRegister} ref={form}>\n            {!successful && (\n              <div>\n                <label htmlFor=\"Name\">Full Name</label>\n                <Input\n                  type=\"text\"\n                  className=\"w-full p-2 mb-6 text-black border-b-2 border-purple-500 outline-none\"\n                  name=\"Name\"\n                  value={name}\n                  onChange={onChangeName}\n                  validations={[required]}\n                />\n\n                <label htmlFor=\"username\">Username</label>\n                <Input\n                  type=\"text\"\n                  className=\"w-full p-2 mb-6 text-black border-b-2 border-purple-500 outline-none\"\n                  name=\"username\"\n                  value={username}\n                  onChange={onChangeUsername}\n                  validations={[required, validUsername]}\n                />\n\n                <label htmlFor=\"email\">Email</label>\n                <Input\n                  type=\"text\"\n                  className=\"w-full p-2 mb-6 text-black border-b-2 border-purple-500 outline-none\"\n                  name=\"email\"\n                  value={email}\n                  onChange={onChangeEmail}\n                  validations={[required, validEmail]}\n                />\n\n                <label htmlFor=\"password\">Password</label>\n                <Input\n                  type=\"password\"\n                  className=\"w-full p-2 mb-6 text-black border-b-2 border-purple-500 outline-none\"\n                  name=\"password\"\n                  value={password}\n                  onChange={onChangePassword}\n                  validations={[required, validPassword]}\n                />\n\n                <button className=\"w-full bg-purple-700 hover:bg-blue-700 text-white font-bold py-2 px-4 mb-6 rounded\">\n                  <span>Register</span>\n                </button>\n              </div>\n            )}\n\n            <CheckButton style={{ display: \"none\" }} ref={checkBtn} />\n            <div className=\"text-center\">\n              <Link to=\"/login\">Already have an account? Login here.</Link>\n            </div>\n          </Form>\n        </div>\n      </div>\n      <Footer color=\"#FFFFFF\" />\n    </div>\n\n  );\n};\n\nexport default withRouter(Register);","import \"./App.css\";\nimport Recorder from \"./pages/Recorder\";\nimport LoginForm from \"./components/Forms/LoginForm/LoginForm\";\nimport Dashboard from \"./pages/Dashboard\";\nimport Sessions from \"./pages/Sessions\";\nimport Faq from \"./pages/Faq\";\nimport Usage from \"./pages/Usage\";\nimport Empty from \"./pages/Empty\";\nimport RegisterForm from \"./components/Forms/RegisterForm/RegisterForm\"\n\nimport {\n  ChakraProvider,\n  extendTheme,\n} from \"@chakra-ui/react\";\n\nimport {\n  HashRouter as Router,\n  Switch,\n  Route,\n} from \"react-router-dom\";\n\nconst colors = {\n  primary: { 900: \"#9800ff\", 800: \"#4c00ff\" },\n};\n\nconst theme = extendTheme({ colors });\n\nfunction App() {\n  return (\n    <ChakraProvider theme={theme}>\n      <Router>\n        <Switch>\n          <Route path=\"/sessions\">\n            <Sessions />\n          </Route>\n          <Route path=\"/dashboard\">\n            {localStorage.getItem('user') !== null ? <Dashboard /> : <LoginForm />}\n          </Route>\n          <Route path=\"/record\">\n            {localStorage.getItem('user') !== null ? <Recorder /> : <LoginForm />}\n          </Route>\n          <Route path=\"/register\">\n            <RegisterForm />\n          </Route>\n          <Route path=\"/usage\">\n            <Usage />\n          </Route>\n          <Route path=\"/faq\">\n            <Faq />\n          </Route>\n          <Route path=\"/profile\">\n            <Empty />\n          </Route>\n          <Route path=\"/support\">\n            <Empty />\n          </Route>\n          <Route path=\"/\">\n            <LoginForm />\n          </Route>\n        </Switch>\n      </Router>\n    </ChakraProvider>\n  );\n}\n\nexport default App;\n","const reportWebVitals = (onPerfEntry) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import(\"web-vitals\").then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport reportWebVitals from \"./reportWebVitals\";\nimport 'semantic-ui-css/semantic.min.css' \n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}